"use strict";(global.webpackChunkiptvnator=global.webpackChunkiptvnator||[]).push([[876],{32876:function(Ft,se,f){f.r(se),f.d(se,{HomeModule:function(){return Nt}});var m=f(47289),D=f(75134),w=f(86019),Ze=f(55505),le=f(24642),C=f(8144),e=f(83668),B=f(23798),x=f(15304),F=f(90086),O=f(48292),Me=function(){var a=(0,m.Z)(function r(i){(0,D.Z)(this,r),this.dialogData=i});return a.\u0275fac=function(i){return new(i||a)(e.Y36(x.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-confirm-dialog"]],decls:17,vars:9,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-flat-button","","color","accent",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","","cdkFocusInitial","","color","accent"]],template:function(i,t){1&i&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e._uU(2,"\n"),e.TgZ(3,"mat-dialog-content",1),e._uU(4),e.qZA(),e._uU(5,"\n"),e.TgZ(6,"mat-dialog-actions",2),e._uU(7,"\n    "),e.TgZ(8,"button",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._uU(11,"\n    "),e.TgZ(12,"button",4),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._uU(15,"\n"),e.qZA(),e._uU(16,"\n")),2&i&&(e.xp6(1),e.hij("\n    ",null==t.dialogData?null:t.dialogData.title,"\n"),e.xp6(3),e.hij("\n    ",null==t.dialogData?null:t.dialogData.message,"\n"),e.xp6(4),e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij("\n        ",e.lcZ(10,5,(null==t.dialogData?null:t.dialogData.confirmLabel)||"YES"),"\n    "),e.xp6(4),e.hij("\n        ",e.lcZ(14,7,(null==t.dialogData?null:t.dialogData.cancelLabel)||"NO"),"\n    "))},directives:[x.uh,x.xY,x.H8,F.lW,x.ZT],pipes:[O.X$],encapsulation:2}),a}(),Ne=function(){var a=function(){function r(i){(0,D.Z)(this,r),this.dialog=i}return(0,m.Z)(r,[{key:"openConfirmDialog",value:function(t){this.dialog.open(Me,{data:t,width:"300px"}).afterClosed().subscribe(function(o){return o?t.onConfirm():null})}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.LFG(x.uw))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),j=f(57725),Fe=f(19966);function He(a,r){1&a&&(e._uU(0,"\n                    "),e.TgZ(1,"mat-icon",8),e._uU(2,"list"),e.qZA(),e._uU(3),e.ALo(4,"translate")),2&a&&(e.xp6(3),e.hij("\n                    ",e.lcZ(4,1,"HOME.TABS.RECENTLY_ADDED"),"\n                "))}function Ye(a,r){1&a&&(e._uU(0,"\n                    "),e.TgZ(1,"mat-icon",8),e._uU(2,"attach_file"),e.qZA(),e._uU(3),e.ALo(4,"translate")),2&a&&(e.xp6(3),e.hij("\n                    ",e.lcZ(4,1,"HOME.TABS.FILE_UPLOAD"),"\n                "))}function qe(a,r){if(1&a){var i=e.EpF();e._uU(0,"\n                    "),e.TgZ(1,"app-file-upload",9),e.NdJ("fileRejected",function(n){return e.CHM(i),e.oxw().rejectFile(n)})("fileSelected",function(n){return e.CHM(i),e.oxw().handlePlaylist(n)}),e.qZA(),e._uU(2,"\n                ")}}function Ge(a,r){1&a&&(e._uU(0,"\n                    "),e.TgZ(1,"mat-icon",8),e._uU(2,"link"),e.qZA(),e._uU(3),e.ALo(4,"translate")),2&a&&(e.xp6(3),e.hij("\n                    ",e.lcZ(4,1,"HOME.TABS.URL_UPLOAD"),"\n                "))}function ze(a,r){if(1&a){var i=e.EpF();e._uU(0,"\n                    "),e.TgZ(1,"app-url-upload",10),e.NdJ("urlAdded",function(n){return e.CHM(i),e.oxw().sendPlaylistsUrl(n)}),e.qZA(),e._uU(2,"\n                ")}}function Be(a,r){1&a&&e._UZ(0,"mat-progress-bar",11)}var ue=function(){var a=function(){function r(i,t,n,o,s,l,u){var c=this;(0,D.Z)(this,r),this.electronService=i,this.channelStore=t,this.dialogService=n,this.ngZone=o,this.router=s,this.snackBar=l,this.translate=u,this.playlists=[],this.isLoading=!1,this.commandsList=[{id:C.fw,execute:function(p){return c.setPlaylist(p.payload)}},{id:C.X_,execute:function(p){c.playlists=p.payload}},{id:C.bq,execute:function(){c.snackBar.open("Done! Playlist was removed.",null,{duration:2e3}),c.electronService.sendIpcEvent(C.ep)}},{id:C.pn,execute:function(p){c.isLoading=!1,c.showNotification("Error: ".concat(p.status," ").concat(p.message,"."))}},{id:C.KR,execute:function(p){return c.showNotification(p.message)}}],this.electronService.sendIpcEvent(C.ep),this.setRendererListeners()}return(0,m.Z)(r,[{key:"setRendererListeners",value:function(){var t=this;this.commandsList.forEach(function(n){t.electronService.listenOn(n.id,t.electronService.isElectron?function(o,s){return t.ngZone.run(function(){return n.execute(s)})}:function(o){o.data.type===n.id&&n.execute(o.data)})})}},{key:"rejectFile",value:function(t){this.showNotification("File was rejected, unsupported file format (".concat(t,").")),this.isLoading=!1}},{key:"handlePlaylist",value:function(t){this.isLoading=!0;var o=t.uploadEvent.target.result.split("\n");this.electronService.sendIpcEvent(C.cs,{title:t.file.name,playlist:o,path:t.file.nativeFile.path})}},{key:"navigateToPlayer",value:function(){this.isLoading=!1,this.router.navigateByUrl("/iptv",{skipLocationChange:!0})}},{key:"sendPlaylistsUrl",value:function(t){this.isLoading=!0,this.electronService.sendIpcEvent(C.fM,{title:this.getLastUrlSegment(t),url:t})}},{key:"setPlaylist",value:function(t){this.channelStore.remove();var n=t.favorites||[],o=t.playlist.items.map(function(s){return(0,le.mi)(s)});this.channelStore.upsertMany(o),this.channelStore.update(function(s){return Object.assign(Object.assign({},s),{active:void 0,favorites:n,playlistId:t.id})}),this.navigateToPlayer()}},{key:"removeClicked",value:function(t){var n=this;this.dialogService.openConfirmDialog({title:this.translate.instant("HOME.PLAYLISTS.REMOVE_DIALOG.TITLE"),message:this.translate.instant("HOME.PLAYLISTS.REMOVE_DIALOG.MESSAGE"),onConfirm:function(){return n.removePlaylist(t)}})}},{key:"removePlaylist",value:function(t){this.electronService.sendIpcEvent(C.Og,{id:t})}},{key:"refreshPlaylist",value:function(t){this.electronService.sendIpcEvent(C.Q4,Object.assign({id:t._id},t.url?{url:t.url}:{filePath:t.filePath}))}},{key:"getPlaylist",value:function(t){this.electronService.sendIpcEvent(C.Qz,{id:t})}},{key:"getLastUrlSegment",value:function(t){return t&&t.length>1?t.substr(t.lastIndexOf("/")+1):""}},{key:"showNotification",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;this.snackBar.open(t,null,{duration:n})}},{key:"ngOnDestroy",value:function(){var t=this;this.commandsList.forEach(function(n){return t.electronService.removeAllListeners(n.id)})}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(B.D),e.Y36(le.b4),e.Y36(Ne),e.Y36(e.R0b),e.Y36(j.F0),e.Y36(Fe.ux),e.Y36(O.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-home"]],decls:40,vars:9,consts:[["fxLayout","row",3,"title","subtitle"],["fxLayout","row","fxFlexAlign","start start"],["fxFlex","100"],["color","primary","backgroundColor","primary","mat-stretch-tabs","",3,"dynamicHeight"],["mat-tab-label",""],[3,"playlists","playlistClicked","refreshClicked","removeClicked"],["matTabContent",""],["mode","indeterminate",4,"ngIf"],[1,"tab-icon"],[3,"fileRejected","fileSelected"],[3,"urlAdded"],["mode","indeterminate"]],template:function(i,t){1&i&&(e._uU(0,"\n"),e._UZ(1,"app-header",0),e.ALo(2,"translate"),e.ALo(3,"translate"),e._uU(4,"\n\n"),e._uU(5,"\n"),e.TgZ(6,"div",1),e._uU(7,"\n    "),e.TgZ(8,"div",2),e._uU(9,"\n        "),e.TgZ(10,"mat-tab-group",3),e._uU(11,"\n            "),e.TgZ(12,"mat-tab"),e._uU(13,"\n                "),e.YNc(14,He,5,3,"ng-template",4),e._uU(15,"\n                "),e.TgZ(16,"app-recent-playlists",5),e.NdJ("playlistClicked",function(o){return t.getPlaylist(o)})("refreshClicked",function(o){return t.refreshPlaylist(o)})("removeClicked",function(o){return t.removeClicked(o)}),e._uU(17,"\n                "),e.qZA(),e._uU(18,"\n            "),e.qZA(),e._uU(19,"\n            "),e.TgZ(20,"mat-tab"),e._uU(21,"\n                "),e.YNc(22,Ye,5,3,"ng-template",4),e._uU(23,"\n                "),e.YNc(24,qe,3,0,"ng-template",6),e._uU(25,"\n            "),e.qZA(),e._uU(26,"\n            "),e.TgZ(27,"mat-tab"),e._uU(28,"\n                "),e.YNc(29,Ge,5,3,"ng-template",4),e._uU(30,"\n                "),e.YNc(31,ze,3,0,"ng-template",6),e._uU(32,"\n            "),e.qZA(),e._uU(33,"\n        "),e.qZA(),e._uU(34,"\n    "),e.qZA(),e._uU(35,"\n"),e.qZA(),e._uU(36,"\n\n"),e._uU(37,"\n"),e.YNc(38,Be,1,0,"mat-progress-bar",7),e._uU(39,"\n")),2&i&&(e.xp6(1),e.Q6J("title",e.lcZ(2,5,"HOME.TITLE"))("subtitle",e.lcZ(3,7,"HOME.SUBTITLE")),e.xp6(9),e.Q6J("dynamicHeight",!0),e.xp6(6),e.Q6J("playlists",t.playlists),e.xp6(22),e.Q6J("ngIf",t.isLoading))},styles:[".mat-tab-label-content{text-transform:uppercase}  .mat-tab-group.mat-background-primary .mat-tab-header-pagination{display:none}"]}),a}(),J=f(96860),g=f(32199),T=f(84816),k=function(){return(a=k||(k={}))[a.Queue=0]="Queue",a[a.Uploading=1]="Uploading",a[a.Done=2]="Done",a[a.Cancelled=3]="Cancelled",k;var a}();function V(a){if(0===a)return"0 Byte";var t=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][t]}var ce=function(){function a(){var r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.POSITIVE_INFINITY;(0,D.Z)(this,a),this.queue=[],this.serviceEvents=new e.vpe,this.uploadScheduler=new g.Subject,this.subs=[],this.contentTypes=t,this.maxUploads=n,this.maxFileSize=o,this.uploadScheduler.pipe((0,T.zg)(function(s){return r.startUpload(s)},i)).subscribe(function(s){return r.serviceEvents.emit(s)})}return(0,m.Z)(a,[{key:"handleFiles",value:function(i){var n,t=this,o=[].reduce.call(i,function(s,l,u){var c=s.length+t.queue.length+1;if(t.isContentTypeAllowed(l.type)&&c<=t.maxUploads&&t.isFileSizeAllowed(l.size))s=s.concat(l);else{var d=t.makeUploadFile(l,u);t.serviceEvents.emit({type:"rejected",file:d})}return s},[]);(n=this.queue).push.apply(n,(0,J.Z)([].map.call(o,function(s,l){var u=t.makeUploadFile(s,l);return t.serviceEvents.emit({type:"addedToQueue",file:u}),u}))),this.serviceEvents.emit({type:"allAddedToQueue"})}},{key:"initInputEvents",value:function(i){var t=this;return i.subscribe(function(n){switch(n.type){case"uploadFile":var o=t.queue.findIndex(function(p){return p===n.file});-1!==o&&n.file&&t.uploadScheduler.next({file:t.queue[o],event:n});break;case"uploadAll":t.queue.filter(function(p){return p.progress.status===k.Queue}).forEach(function(p){return t.uploadScheduler.next({file:p,event:n})});break;case"cancel":var l=n.id||null;if(!l)return;t.subs.filter(function(p){return p.id===l}).forEach(function(p){if(p.sub){p.sub.unsubscribe();var h=t.queue.findIndex(function(_){return _.id===l});-1!==h&&(t.queue[h].progress.status=k.Cancelled,t.serviceEvents.emit({type:"cancelled",file:t.queue[h]}))}});break;case"cancelAll":t.subs.forEach(function(p){p.sub&&p.sub.unsubscribe();var h=t.queue.find(function(_){return _.id===p.id});h&&(h.progress.status=k.Cancelled,t.serviceEvents.emit({type:"cancelled",file:h}))});break;case"remove":if(!n.id)return;var c=t.queue.findIndex(function(p){return p.id===n.id});if(-1!==c){var d=t.queue[c];t.queue.splice(c,1),t.serviceEvents.emit({type:"removed",file:d})}break;case"removeAll":t.queue.length&&(t.queue=[],t.serviceEvents.emit({type:"removedAll"}))}})}},{key:"startUpload",value:function(i){var t=this;return new g.Observable(function(n){var o=t.uploadFile(i.file,i.event).pipe((0,T.xS)(function(){n.closed||n.complete()})).subscribe(function(s){n.next(s)},function(s){n.error(s),n.complete()},function(){n.complete()});t.subs.push({id:i.file.id,sub:o})})}},{key:"uploadFile",value:function(i,t){var n=this;return new g.Observable(function(o){var s=t.url||"",l=t.method||"POST",u=t.data||{},c=t.headers||{},d=new XMLHttpRequest,p=(new Date).getTime(),h=i.progress.data&&i.progress.data.startTime||p,_=0,S=null;d.upload.addEventListener("progress",function(b){if(b.lengthComputable){var M=Math.round(100*b.loaded/b.total),N=(new Date).getTime()-p;_=Math.round(b.loaded/N*1e3),h=i.progress.data&&i.progress.data.startTime||(new Date).getTime(),S=Math.ceil((b.total-b.loaded)/_),i.progress={status:k.Uploading,data:{percentage:M,speed:_,speedHuman:"".concat(V(_),"/s"),startTime:h,endTime:null,eta:S,etaHuman:n.secondsToHuman(S)}},o.next({type:"uploading",file:i})}},!1),d.upload.addEventListener("error",function(b){o.error(b),o.complete()}),d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE){var b=Math.round(i.size/((new Date).getTime()-h)*1e3);i.progress={status:k.Done,data:{percentage:100,speed:b,speedHuman:"".concat(V(b),"/s"),startTime:h,endTime:(new Date).getTime(),eta:S,etaHuman:n.secondsToHuman(S||0)}},i.responseStatus=d.status;try{i.response=JSON.parse(d.response)}catch(M){i.response=d.response}i.responseHeaders=n.parseResponseHeaders(d.getAllResponseHeaders()),o.next({type:"done",file:i}),o.complete()}},d.open(l,s,!0),d.withCredentials=!!t.withCredentials;try{var I,P=i.nativeFile,E=n.queue.findIndex(function(b){return b.nativeFile===P});n.queue[E].progress.status===k.Cancelled&&o.complete(),Object.keys(c).forEach(function(b){return d.setRequestHeader(b,c[b])}),!1!==t.includeWebKitFormBoundary?(Object.keys(u).forEach(function(b){return i.form.append(b,u[b])}),i.form.append(t.fieldName||"file",P,P.name),I=i.form):I=P,n.serviceEvents.emit({type:"start",file:i}),d.send(I)}catch(b){o.complete()}return function(){d.abort()}})}},{key:"secondsToHuman",value:function(i){return new Date(1e3*i).toISOString().substr(11,8)}},{key:"generateId",value:function(){return Math.random().toString(36).substring(7)}},{key:"setContentTypes",value:function(i){this.contentTypes=void 0!==i&&i instanceof Array?void 0!==i.find(function(t){return"*"===t})?["*"]:i:["*"]}},{key:"allContentTypesAllowed",value:function(){return void 0!==this.contentTypes.find(function(i){return"*"===i})}},{key:"isContentTypeAllowed",value:function(i){return!!this.allContentTypesAllowed()||void 0!==this.contentTypes.find(function(t){return t===i})}},{key:"isFileSizeAllowed",value:function(i){return!this.maxFileSize||i<=this.maxFileSize}},{key:"makeUploadFile",value:function(i,t){return{fileIndex:t,id:this.generateId(),name:i.name,size:i.size,type:i.type,form:new FormData,progress:{status:k.Queue,data:{percentage:0,speed:0,speedHuman:"".concat(V(0),"/s"),startTime:null,endTime:null,eta:null,etaHuman:null}},lastModifiedDate:new Date(i.lastModified),sub:void 0,nativeFile:i}}},{key:"parseResponseHeaders",value:function(i){if(i)return i.split("\n").map(function(t){return t.split(/: */,2)}).filter(function(t){return t[0]}).reduce(function(t,n){return t[n[0]]=n[1],t},{})}}]),a}(),je=function(){var a=function(){function r(i){(0,D.Z)(this,r),this.elementRef=i,this.stopEvent=function(t){t.stopPropagation(),t.preventDefault()},this.uploadOutput=new e.vpe}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){var t=this;this._sub=[],this.upload=new ce(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this._sub.push(this.upload.serviceEvents.subscribe(function(u){t.uploadOutput.emit(u)})),this.uploadInput instanceof e.vpe&&this._sub.push(this.upload.initInputEvents(this.uploadInput)),this.el.addEventListener("drop",this.stopEvent,!1),this.el.addEventListener("dragenter",this.stopEvent,!1),this.el.addEventListener("dragover",this.stopEvent,!1)}},{key:"ngOnDestroy",value:function(){this._sub.forEach(function(t){return t.unsubscribe()})}},{key:"onDrop",value:function(t){t.stopPropagation(),t.preventDefault(),this.uploadOutput.emit({type:"drop"}),this.upload.handleFiles(t.dataTransfer.files)}},{key:"onDragOver",value:function(t){t&&this.uploadOutput.emit({type:"dragOver"})}},{key:"onDragLeave",value:function(t){t&&this.uploadOutput.emit({type:"dragOut"})}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","ngFileDrop",""]],hostBindings:function(i,t){1&i&&e.NdJ("drop",function(o){return t.onDrop(o)})("dragover",function(o){return t.onDragOver(o)})("dragleave",function(o){return t.onDragLeave(o)})},inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}}),a}(),Je=function(){var a=function(){function r(i){var t=this;(0,D.Z)(this,r),this.elementRef=i,this.fileListener=function(){t.el.files&&t.upload.handleFiles(t.el.files)},this.uploadOutput=new e.vpe}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){var t=this;this._sub=[],this.upload=new ce(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this.el.addEventListener("change",this.fileListener,!1),this._sub.push(this.upload.serviceEvents.subscribe(function(u){t.uploadOutput.emit(u)})),this.uploadInput instanceof e.vpe&&this._sub.push(this.upload.initInputEvents(this.uploadInput))}},{key:"ngOnDestroy",value:function(){this.el&&(this.el.removeEventListener("change",this.fileListener,!1),this._sub.forEach(function(t){return t.unsubscribe()}))}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","ngFileSelect",""]],inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}}),a}(),Ve=function(){var a=(0,m.Z)(function r(){(0,D.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a}(),Q=f(59112),Qe=function(){var a=function(){function r(){(0,D.Z)(this,r),this.files=[],this.uploadInput=new e.vpe,this.options={allowedContentTypes:["application/x-mpegurl","application/octet-stream","application/mpegurl","application/vnd.apple.mpegurl","application/vnd.apple.mpegurl.audio","audio/x-mpegurl","audio/mpegurl"],concurrency:1,maxUploads:1},this.fileRejected=new e.vpe,this.fileSelected=new e.vpe}return(0,m.Z)(r,[{key:"onUploadOutput",value:function(t){var n=this;if("allAddedToQueue"===t.type){if(this.files.length>0){var o=new FileReader;o.onload=function(l){return n.fileSelected.emit({uploadEvent:l,file:n.files[0]})},o.readAsText(this.files[0].nativeFile)}}else if("addedToQueue"===t.type&&void 0!==t.file)this.files.push(t.file);else if("uploading"===t.type&&void 0!==t.file){var s=this.files.findIndex(function(l){return void 0!==t.file&&l.id===t.file.id});this.files[s]=t.file}else"cancelled"===t.type||"removed"===t.type?this.files=this.files.filter(function(l){return l!==t.file}):"dragOver"===t.type?this.dragOver=!0:"dragOut"===t.type||"drop"===t.type?this.dragOver=!1:"rejected"===t.type&&void 0!==t.file&&this.fileRejected.emit(t.file.name)}}]),r}();return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-file-upload"]],outputs:{fileRejected:"fileRejected",fileSelected:"fileSelected"},decls:20,vars:13,consts:[["ngFileDrop","",1,"drop-container",3,"options","uploadInput","uploadOutput"],[1,"upload-icon"],[1,"upload-title"],["type","file","ngFileSelect","","name","file","id","file","multiple","",1,"input-file",3,"options","uploadInput","uploadOutput"],["for","file"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.NdJ("uploadOutput",function(o){return t.onUploadOutput(o)}),e._uU(1,"\n    "),e.TgZ(2,"mat-icon",1),e._uU(3,"save_alt"),e.qZA(),e._uU(4,"\n    "),e.TgZ(5,"p",2),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._uU(8,"\n    "),e.TgZ(9,"p"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._uU(12,"\n    "),e.TgZ(13,"input",3),e.NdJ("uploadOutput",function(o){return t.onUploadOutput(o)}),e.qZA(),e._uU(14,"\n    "),e.TgZ(15,"label",4),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._uU(18,"\n"),e.qZA(),e._uU(19,"\n")),2&i&&(e.Q6J("options",t.options)("uploadInput",t.uploadInput),e.xp6(6),e.Oqu(e.lcZ(7,7,"HOME.FILE_UPLOAD.DRAG_DROP")),e.xp6(4),e.Oqu(e.lcZ(11,9,"HOME.FILE_UPLOAD.OR")),e.xp6(3),e.Q6J("options",t.options)("uploadInput",t.uploadInput),e.xp6(3),e.Oqu(e.lcZ(17,11,"HOME.FILE_UPLOAD.CHOOSE_PLAYLIST")))},directives:[je,Q.Hw,Je],pipes:[O.X$],styles:[".drop-container[_ngcontent-%COMP%]{margin:10px;padding:10px;height:calc(100vh - 235px);border:2px dashed #ccc;border-radius:3px;text-align:center;color:#666}#file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ccc;padding:5px}.upload-title[_ngcontent-%COMP%]{font-size:1.25em}.input-file[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.input-file[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:1em;font-weight:700;color:#fff;background-color:#3f51b5;display:inline-block;text-transform:uppercase;border-radius:4px;cursor:pointer;line-height:35px;padding:3px 10px}.input-file[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .input-file[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background-color:#202b69}.upload-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;padding-top:20px}"]}),a}(),v=f(49133),H=f(28167),de=f(10138),Ke=function(){var a=function(){function r(i){(0,D.Z)(this,r),this.fb=i,this.urlAdded=new e.vpe}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this.form=this.fb.group({playlistUrl:["",[v.kI.required,v.kI.pattern("(https?://.*?)")]]})}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(v.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-url-upload"]],outputs:{urlAdded:"urlAdded"},decls:13,vars:8,consts:[[3,"formGroup","ngSubmit"],[1,"full-width"],["type","url","matInput","","formControlName","playlistUrl",3,"placeholder"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(i,t){1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.urlAdded.emit(t.form.value.playlistUrl)}),e._uU(1,"\n    "),e.TgZ(2,"mat-form-field",1),e._uU(3,"\n        "),e._UZ(4,"input",2),e.ALo(5,"translate"),e._uU(6,"\n    "),e.qZA(),e._uU(7,"\n    "),e.TgZ(8,"button",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._uU(11,"\n"),e.qZA(),e._uU(12,"\n")),2&i&&(e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,"HOME.URL_UPLOAD.PLAYLIST_URL")),e.xp6(4),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij("\n        ",e.lcZ(10,6,"HOME.URL_UPLOAD.ADD_PLAYLIST"),"\n    "))},directives:[v._Y,v.JL,v.sg,H.KE,de.Nt,v.Fj,v.JJ,v.u,F.lW],pipes:[O.X$],styles:["form[_ngcontent-%COMP%]{margin:15px}button[_ngcontent-%COMP%]{text-transform:uppercase}"]}),a}(),We=f(904);function Xe(a,r){1&a&&(e.TgZ(0,"mat-form-field",3),e._uU(1,"\n            "),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,"\n            "),e._UZ(6,"input",14),e._uU(7,"\n        "),e.qZA()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"HOME.PLAYLISTS.INFO_DIALOG.FROM_URL")))}function $e(a,r){1&a&&(e.TgZ(0,"mat-form-field",15),e._uU(1,"\n            "),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,"\n            "),e._UZ(6,"input",16),e._uU(7,"\n            "),e.TgZ(8,"mat-hint"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._uU(11,"\n        "),e.qZA()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"HOME.PLAYLISTS.INFO_DIALOG.USER_AGENT")),e.xp6(6),e.Oqu(e.lcZ(10,4,"HOME.PLAYLISTS.INFO_DIALOG.CUSTOM_USER_AGENT")))}function et(a,r){1&a&&(e.TgZ(0,"mat-hint"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij("\n                ",e.lcZ(2,1,"HOME.PLAYLISTS.INFO_DIALOG.UPDATE_FAILED"),"\n            "))}function tt(a,r){if(1&a&&(e.TgZ(0,"mat-form-field",3),e._uU(1,"\n            "),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,"\n            "),e._UZ(6,"input",17),e._uU(7,"\n            "),e.YNc(8,et,3,3,"mat-hint",10),e._uU(9,"\n        "),e.qZA()),2&a){var i=e.oxw();e.xp6(3),e.hij("\n                ",e.lcZ(4,2,"HOME.PLAYLISTS.INFO_DIALOG.FILE_PATH"),"\n            "),e.xp6(5),e.Q6J("ngIf",2===i.playlist.updateState)}}function it(a,r){1&a&&(e.ynx(0),e._uU(1,"\n            "),e.TgZ(2,"mat-checkbox",18),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,"\n            "),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._uU(9,"\n        "),e.BQk()),2&a&&(e.xp6(3),e.hij("\n                ",e.lcZ(4,2,"HOME.PLAYLISTS.INFO_DIALOG.AUTO_UPDATE"),"\n            "),e.xp6(4),e.hij("\n                ",e.lcZ(8,4,"HOME.PLAYLISTS.INFO_DIALOG.AUTO_UPDATE_DESCRIPTION"),"\n            "))}var nt=function(){var a=function(){function r(i,t,n,o){(0,D.Z)(this,r),this.datePipe=i,this.formBuilder=t,this.electronService=n,this.isElectron=this.electronService.isElectron,this.playlist=o}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this.playlistDetails=this.formBuilder.group({_id:this.playlist._id,title:new v.NI(this.playlist.title,v.kI.required),userAgent:this.playlist.userAgent||"",filename:new v.NI({value:this.playlist.filename||"",disabled:!0}),count:new v.NI({value:this.playlist.count,disabled:!0}),importDate:new v.NI({value:this.datePipe.transform(this.playlist.importDate),disabled:!0}),url:new v.NI({value:this.playlist.url,disabled:!0}),filePath:new v.NI({value:this.playlist.filePath,disabled:!0}),autoRefresh:new v.NI(this.playlist.autoRefresh)})}},{key:"saveChanges",value:function(t){this.electronService.sendIpcEvent(C.Z4,t)}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(w.uU),e.Y36(v.qu),e.Y36(B.D),e.Y36(x.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-playlist-info"]],features:[e._Bn([w.uU])],decls:65,vars:27,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"full-width"],["formControlName","title","matInput",""],["class","full-width",4,"ngIf"],["matInput","","formControlName","filename"],["matInput","","formControlName","importDate"],["matInput","","formControlName","count"],["class","full-width mb-10",4,"ngIf"],[4,"ngIf"],["align","end"],["mat-flat-button","","mat-dialog-close","","color","accent","type","submit",3,"disabled"],["mat-button","","mat-dialog-close","","cdkFocusInitial","","color","accent"],["matInput","","formControlName","url"],[1,"full-width","mb-10"],["formControlName","userAgent","matInput",""],["formControlName","filePath","matInput",""],["formControlName","autoRefresh",1,"full-width"]],template:function(i,t){1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.saveChanges(t.playlistDetails.value)}),e._uU(1,"\n    "),e.TgZ(2,"h2",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,"\n    "),e.TgZ(6,"mat-dialog-content",2),e._uU(7,"\n        "),e.TgZ(8,"mat-form-field",3),e._uU(9,"\n            "),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13,"\n            "),e._UZ(14,"input",4),e._uU(15,"\n        "),e.qZA(),e._uU(16,"\n        "),e.YNc(17,Xe,8,3,"mat-form-field",5),e._uU(18,"\n        "),e.TgZ(19,"mat-form-field",3),e._uU(20,"\n            "),e.TgZ(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._uU(24,"\n            "),e._UZ(25,"input",6),e._uU(26,"\n        "),e.qZA(),e._uU(27,"\n        "),e.TgZ(28,"mat-form-field",3),e._uU(29,"\n            "),e.TgZ(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._uU(33,"\n            "),e._UZ(34,"input",7),e._uU(35,"\n        "),e.qZA(),e._uU(36,"\n        "),e.TgZ(37,"mat-form-field",3),e._uU(38,"\n            "),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e._uU(42,"\n            "),e._UZ(43,"input",8),e._uU(44,"\n        "),e.qZA(),e._uU(45,"\n        "),e.YNc(46,$e,12,6,"mat-form-field",9),e._uU(47,"\n        "),e.YNc(48,tt,10,4,"mat-form-field",5),e._uU(49,"\n        "),e.YNc(50,it,10,6,"ng-container",10),e._uU(51,"\n    "),e.qZA(),e._uU(52,"\n    "),e.TgZ(53,"mat-dialog-actions",11),e._uU(54,"\n        "),e.TgZ(55,"button",12),e._uU(56),e.ALo(57,"translate"),e.qZA(),e._uU(58,"\n        "),e.TgZ(59,"button",13),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._uU(62,"\n    "),e.qZA(),e._uU(63,"\n"),e.qZA(),e._uU(64,"\n")),2&i&&(e.Q6J("formGroup",t.playlistDetails),e.xp6(3),e.hij("\n        ",e.lcZ(4,13,"HOME.PLAYLISTS.INFO_DIALOG.PLAYLIST_DETAILS"),"\n    "),e.xp6(8),e.Oqu(e.lcZ(12,15,"HOME.PLAYLISTS.INFO_DIALOG.TITLE")),e.xp6(6),e.Q6J("ngIf",t.playlist.url),e.xp6(5),e.Oqu(e.lcZ(23,17,"HOME.PLAYLISTS.INFO_DIALOG.ORIGINAL_FILENAME")),e.xp6(9),e.Oqu(e.lcZ(32,19,"HOME.PLAYLISTS.INFO_DIALOG.IMPORT_DATE")),e.xp6(9),e.Oqu(e.lcZ(41,21,"HOME.PLAYLISTS.INFO_DIALOG.CHANNELS")),e.xp6(6),e.Q6J("ngIf",t.isElectron),e.xp6(2),e.Q6J("ngIf",t.playlist.filePath),e.xp6(2),e.Q6J("ngIf",t.playlist.url||t.playlist.filePath),e.xp6(5),e.Q6J("disabled",!t.playlistDetails.valid||t.playlistDetails.pristine),e.xp6(1),e.hij("\n            ",e.lcZ(57,23,"HOME.PLAYLISTS.INFO_DIALOG.SAVE"),"\n        "),e.xp6(4),e.hij("\n            ",e.lcZ(61,25,"HOME.PLAYLISTS.INFO_DIALOG.CLOSE"),"\n        "))},directives:[v._Y,v.JL,v.sg,x.uh,x.xY,H.KE,H.hX,v.Fj,de.Nt,v.JJ,v.u,w.O5,x.H8,F.lW,x.ZT,H.bx,We.oG],pipes:[O.X$],encapsulation:2}),a}(),rt=f(62681),K=f(97226),L=f(50928),y=f(80348),pe=f(47497),he=f(58290);function W(a,r,i){for(var t in r)if(r.hasOwnProperty(t)){var n=r[t];n?a.setProperty(t,n,null!=i&&i.has(t)?"important":""):a.removeProperty(t)}return a}function R(a,r){var i=r?"":"none";W(a.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function fe(a,r,i){W(a.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},i)}function Y(a,r){return r&&"none"!=r?a+" "+r:a}function ge(a){var r=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*r}function X(a,r){return a.getPropertyValue(r).split(",").map(function(t){return t.trim()})}function $(a){var r=a.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function ee(a,r,i){return i>=a.top&&i<=a.bottom&&r>=a.left&&r<=a.right}function A(a,r,i){a.top+=r,a.bottom=a.top+a.height,a.left+=i,a.right=a.left+a.width}function _e(a,r,i,t){var d=a.width*r,p=a.height*r;return t>a.top-p&&t<a.bottom+p&&i>a.left-d&&i<a.right+d}var ve=function(){function a(r,i){(0,D.Z)(this,a),this._document=r,this._viewportRuler=i,this.positions=new Map}return(0,m.Z)(a,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(i){var t=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),i.forEach(function(n){t.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:$(n)})})}},{key:"handleScroll",value:function(i){var t=(0,L.sA)(i),n=this.positions.get(t);if(!n)return null;var s,l,o=n.scrollPosition;if(t===this._document){var u=this._viewportRuler.getViewportScrollPosition();s=u.top,l=u.left}else s=t.scrollTop,l=t.scrollLeft;var c=o.top-s,d=o.left-l;return this.positions.forEach(function(p,h){p.clientRect&&t!==h&&t.contains(h)&&A(p.clientRect,c,d)}),o.top=s,o.left=l,{top:c,left:d}}}]),a}();function me(a){var r=a.cloneNode(!0),i=r.querySelectorAll("[id]"),t=a.nodeName.toLowerCase();r.removeAttribute("id");for(var n=0;n<i.length;n++)i[n].removeAttribute("id");return"canvas"===t?Pe(a,r):("input"===t||"select"===t||"textarea"===t)&&ye(a,r),De("canvas",a,r,Pe),De("input, textarea, select",a,r,ye),r}function De(a,r,i,t){var n=r.querySelectorAll(a);if(n.length)for(var o=i.querySelectorAll(a),s=0;s<n.length;s++)t(n[s],o[s])}var at=0;function ye(a,r){"file"!==r.type&&(r.value=a.value),"radio"===r.type&&r.name&&(r.name="mat-clone-".concat(r.name,"-").concat(at++))}function Pe(a,r){var i=r.getContext("2d");if(i)try{i.drawImage(a,0,0)}catch(t){}}var be=(0,L.i$)({passive:!0}),Se=(0,L.i$)({passive:!1}),te=new Set(["position"]),lt=function(){function a(r,i,t,n,o,s){var l=this;(0,D.Z)(this,a),this._config=i,this._document=t,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new g.Subject,this._pointerMoveSubscription=g.Subscription.EMPTY,this._pointerUpSubscription=g.Subscription.EMPTY,this._scrollSubscription=g.Subscription.EMPTY,this._resizeSubscription=g.Subscription.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new g.Subject,this.started=new g.Subject,this.released=new g.Subject,this.ended=new g.Subject,this.entered=new g.Subject,this.exited=new g.Subject,this.dropped=new g.Subject,this.moved=this._moveEvents,this._pointerDown=function(u){if(l.beforeStarted.next(),l._handles.length){var c=l._handles.find(function(d){return u.target&&(u.target===d||d.contains(u.target))});c&&!l._disabledHandles.has(c)&&!l.disabled&&l._initializeDragSequence(c,u)}else l.disabled||l._initializeDragSequence(l._rootElement,u)},this._pointerMove=function(u){var c=l._getPointerPositionOnPage(u);if(l._hasStartedDragging){l._boundaryElement&&(!l._previewRect||!l._previewRect.width&&!l._previewRect.height)&&(l._previewRect=(l._preview||l._rootElement).getBoundingClientRect()),u.preventDefault();var P=l._getConstrainedPointerPosition(c);if(l._hasMoved=!0,l._lastKnownPointerPosition=c,l._updatePointerDirectionDelta(P),l._dropContainer)l._updateActiveDropContainer(P,c);else{var E=l._activeTransform;E.x=P.x-l._pickupPositionOnPage.x+l._passiveTransform.x,E.y=P.y-l._pickupPositionOnPage.y+l._passiveTransform.y,l._applyRootElementTransform(E.x,E.y)}l._moveEvents.observers.length&&l._ngZone.run(function(){l._moveEvents.next({source:l,pointerPosition:P,event:u,distance:l._getDragDistance(P),delta:l._pointerDirectionDelta})})}else if(Math.abs(c.x-l._pickupPositionOnPage.x)+Math.abs(c.y-l._pickupPositionOnPage.y)>=l._config.dragStartThreshold){var _=Date.now()>=l._dragStartTime+l._getDragStartDelay(u),S=l._dropContainer;if(!_)return void l._endDragSequence(u);(!S||!S.isDragging()&&!S.isReceiving())&&(u.preventDefault(),l._hasStartedDragging=!0,l._ngZone.run(function(){return l._startDragSequence(u)}))}},this._pointerUp=function(u){l._endDragSequence(u)},this.withRootElement(r).withParent(i.parentDragRef||null),this._parentPositions=new ve(t,o),s.registerDragItem(this)}return(0,m.Z)(a,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(i){var t=(0,y.Ig)(i);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(function(n){return R(n,t)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(i){var t=this;this._handles=i.map(function(o){return(0,y.fI)(o)}),this._handles.forEach(function(o){return R(o,t.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(o){t._handles.indexOf(o)>-1&&n.add(o)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(i){return this._previewTemplate=i,this}},{key:"withPlaceholderTemplate",value:function(i){return this._placeholderTemplate=i,this}},{key:"withRootElement",value:function(i){var t=this,n=(0,y.fI)(i);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",t._pointerDown,Se),n.addEventListener("touchstart",t._pointerDown,be)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(i){var t=this;return this._boundaryElement=i?(0,y.fI)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return t._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(i){return this._parentDragRef=i,this}},{key:"dispose",value:function(){var i,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(i=this._anchor)||void 0===i||i.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),R(i,!0))}},{key:"enableHandle",value:function(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),R(i,this.disabled))}},{key:"withDirection",value:function(i){return this._direction=i,this}},{key:"_withDropContainer",value:function(i){this._dropContainer=i}},{key:"getFreeDragPosition",value:function(){var i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}},{key:"setFreeDragPosition",value:function(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}},{key:"withPreviewContainer",value:function(i){return this._previewContainer=i,this}},{key:"_sortFromLastPointerPosition",value:function(){var i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){var i,t;null===(i=this._preview)||void 0===i||i.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){var i,t;null===(i=this._placeholder)||void 0===i||i.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(i){var t=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){t._cleanupDragArtifacts(i),t._cleanupCachedDimensions(),t._dragDropRegistry.stopDragging(t)});else{this._passiveTransform.x=this._activeTransform.x;var n=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){t.ended.next({source:t,distance:t._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(i){U(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._dropContainer;if(t){var n=this._rootElement,o=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();o.insertBefore(l,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),fe(n,!1,te),this._document.body.appendChild(o.replaceChild(s,n)),this._getPreviewInsertionPoint(o,u).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(i,t){var n=this;this._parentDragRef&&t.stopPropagation();var o=this.isDragging(),s=U(t),l=!s&&0!==t.button,u=this._rootElement,c=(0,L.sA)(t),d=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),p=s?(0,pe.yG)(t):(0,pe.X6)(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),!(o||l||d||p)){if(this._handles.length){var h=u.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(P){return n._updateOnScroll(P)}),this._boundaryElement&&(this._boundaryRect=$(this._boundaryElement));var _=this._previewTemplate;this._pickupPositionInElement=_&&_.template&&!_.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,t);var S=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:S.x,y:S.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}}},{key:"_cleanupDragArtifacts",value:function(i){var t=this;fe(this._rootElement,!0,te),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var n=t._dropContainer,o=n.getItemIndex(t),s=t._getPointerPositionOnPage(i),l=t._getDragDistance(s),u=n._isOverContainer(s.x,s.y);t.ended.next({source:t,distance:l,dropPoint:s}),t.dropped.next({item:t,currentIndex:o,previousIndex:t._initialIndex,container:n,previousContainer:t._initialContainer,isPointerOverContainer:u,distance:l,dropPoint:s}),n.drop(t,o,t._initialIndex,t._initialContainer,u,l,s),t._dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(i,t){var n=this,o=i.x,s=i.y,l=t.x,u=t.y,c=this._initialContainer._getSiblingContainerFromPosition(this,o,s);!c&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,s)&&(c=this._initialContainer),c&&c!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=c,n._dropContainer.enter(n,o,s,c===n._initialContainer&&c.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:c,currentIndex:c.getItemIndex(n)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(l,u),this._dropContainer._sortItem(this,o,s,this._pointerDirectionDelta),this._applyPreviewTransform(o-this._pickupPositionInElement.x,s-this._pickupPositionInElement.y))}},{key:"_createPreviewElement",value:function(){var o,i=this._previewTemplate,t=this.previewClass,n=i?i.template:null;if(n&&i){var s=i.matchSize?this._rootElement.getBoundingClientRect():null,l=i.viewContainer.createEmbeddedView(n,i.context);l.detectChanges(),o=Ce(l,this._document),this._previewRef=l,i.matchSize?Te(o,s):o.style.transform=q(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var u=this._rootElement;Te(o=me(u),u.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return W(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":"".concat(this._config.zIndex||1e3)},te),R(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(function(c){return o.classList.add(c)}):o.classList.add(t)),o}},{key:"_animatePreviewToPlaceholder",value:function(){var i=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);var n=function(a){var r=getComputedStyle(a),i=X(r,"transition-property"),t=i.find(function(l){return"transform"===l||"all"===l});if(!t)return 0;var n=i.indexOf(t),o=X(r,"transition-duration"),s=X(r,"transition-delay");return ge(o[n])+ge(s[n])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(o){var s=function u(c){var d;(!c||(0,L.sA)(c)===i._preview&&"transform"===c.propertyName)&&(null===(d=i._preview)||void 0===d||d.removeEventListener("transitionend",u),o(),clearTimeout(l))},l=setTimeout(s,1.5*n);i._preview.addEventListener("transitionend",s)})})}},{key:"_createPlaceholderElement",value:function(){var n,i=this._placeholderTemplate,t=i?i.template:null;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=Ce(this._placeholderRef,this._document)):n=me(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}},{key:"_getPointerPositionInElement",value:function(i,t){var n=this._rootElement.getBoundingClientRect(),o=i===this._rootElement?null:i,s=o?o.getBoundingClientRect():n,l=U(t)?t.targetTouches[0]:t,u=this._getViewportScrollPosition();return{x:s.left-n.left+(l.pageX-s.left-u.left),y:s.top-n.top+(l.pageY-s.top-u.top)}}},{key:"_getPointerPositionOnPage",value:function(i){var t=this._getViewportScrollPosition(),n=U(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){var l=this._ownerSVGElement.getScreenCTM();if(l){var u=this._ownerSVGElement.createSVGPoint();return u.x=o,u.y=s,u.matrixTransform(l.inverse())}}return{x:o,y:s}}},{key:"_getConstrainedPointerPosition",value:function(i){var t=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(i,this):i,o=n.x,s=n.y;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(o=this._pickupPositionOnPage.x),this._boundaryRect){var l=this._pickupPositionInElement,u=l.x,c=l.y,d=this._boundaryRect,p=this._previewRect,h=d.top+c,_=d.bottom-(p.height-c);o=Ie(o,d.left+u,d.right-(p.width-u)),s=Ie(s,h,_)}return{x:o,y:s}}},{key:"_updatePointerDirectionDelta",value:function(i){var t=i.x,n=i.y,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,l=Math.abs(t-s.x),u=Math.abs(n-s.y);return l>this._config.pointerDirectionChangeThreshold&&(o.x=t>s.x?1:-1,s.x=t),u>this._config.pointerDirectionChangeThreshold&&(o.y=n>s.y?1:-1,s.y=n),o}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,R(this._rootElement,i))}}},{key:"_removeRootElementListeners",value:function(i){i.removeEventListener("mousedown",this._pointerDown,Se),i.removeEventListener("touchstart",this._pointerDown,be)}},{key:"_applyRootElementTransform",value:function(i,t){var n=q(i,t),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Y(n,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(i,t){var n,o=null!==(n=this._previewTemplate)&&void 0!==n&&n.template?void 0:this._initialTransform,s=q(i,t);this._preview.style.transform=Y(s,o)}},{key:"_getDragDistance",value:function(i){var t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var i=this._passiveTransform,t=i.x,n=i.y;if(!(0===t&&0===n||this.isDragging())&&this._boundaryElement){var o=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(!(0===o.width&&0===o.height||0===s.width&&0===s.height)){var l=o.left-s.left,u=s.right-o.right,c=o.top-s.top,d=s.bottom-o.bottom;o.width>s.width?(l>0&&(t+=l),u>0&&(t-=u)):t=0,o.height>s.height?(c>0&&(n+=c),d>0&&(n-=d)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}}}},{key:"_getDragStartDelay",value:function(i){var t=this.dragStartDelay;return"number"==typeof t?t:U(i)?t.touch:t?t.mouse:0}},{key:"_updateOnScroll",value:function(i){var t=this._parentPositions.handleScroll(i);if(t){var n=(0,L.sA)(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&A(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var i=this._parentPositions.positions.get(this._document);return i?i.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,L.kV)(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(i,t){var n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){var o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,y.fI)(n)}}]),a}();function q(a,r){return"translate3d(".concat(Math.round(a),"px, ").concat(Math.round(r),"px, 0)")}function Ie(a,r,i){return Math.max(r,Math.min(i,a))}function U(a){return"t"===a.type[0]}function Ce(a,r){var i=a.rootNodes;if(1===i.length&&i[0].nodeType===r.ELEMENT_NODE)return i[0];var t=r.createElement("div");return i.forEach(function(n){return t.appendChild(n)}),t}function Te(a,r){a.style.width="".concat(r.width,"px"),a.style.height="".concat(r.height,"px"),a.style.transform=q(r.left,r.top)}function Ee(a,r,i){var t=Z(r,a.length-1),n=Z(i,a.length-1);if(t!==n){for(var o=a[t],s=n<t?-1:1,l=t;l!==n;l+=s)a[l]=a[l+s];a[n]=o}}function Z(a,r){return Math.max(0,Math.min(r,a))}var ut=function(){function a(r,i,t,n,o){var s=this;(0,D.Z)(this,a),this._dragDropRegistry=i,this._ngZone=n,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new g.Subject,this.entered=new g.Subject,this.exited=new g.Subject,this.dropped=new g.Subject,this.sorted=new g.Subject,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=g.Subscription.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new g.Subject,this._cachedShadowRoot=null,this._startScrollInterval=function(){s._stopScrolling(),(0,g.interval)(0,g.animationFrameScheduler).pipe((0,T.Rs)(s._stopScrollTimers)).subscribe(function(){var l=s._scrollNode,u=s.autoScrollStep;1===s._verticalScrollDirection?l.scrollBy(0,-u):2===s._verticalScrollDirection&&l.scrollBy(0,u),1===s._horizontalScrollDirection?l.scrollBy(-u,0):2===s._horizontalScrollDirection&&l.scrollBy(u,0)})},this.element=(0,y.fI)(r),this._document=t,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new ve(t,o)}return(0,m.Z)(a,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(i,t,n,o){var s;this._draggingStarted(),null==o?-1===(s=this.sortingDisabled?this._draggables.indexOf(i):-1)&&(s=this._getItemIndexFromPointerPosition(i,t,n)):s=o;var l=this._activeDraggables,u=l.indexOf(i),c=i.getPlaceholderElement(),d=l[s];if(d===i&&(d=l[s+1]),u>-1&&l.splice(u,1),d&&!this._dragDropRegistry.isDragging(d)){var p=d.getRootElement();p.parentElement.insertBefore(c,p),l.splice(s,0,i)}else if(this._shouldEnterAsFirstChild(t,n)){var h=l[0].getRootElement();h.parentNode.insertBefore(c,h),l.unshift(i)}else(0,y.fI)(this.element).appendChild(c),l.push(i);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}},{key:"exit",value:function(i){this._reset(),this.exited.next({item:i,container:this})}},{key:"drop",value:function(i,t,n,o,s,l,u){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:o,isPointerOverContainer:s,distance:l,dropPoint:u})}},{key:"withItems",value:function(i){var t=this,n=this._draggables;return this._draggables=i,i.forEach(function(s){return s._withDropContainer(t)}),this.isDragging()&&(n.filter(function(s){return s.isDragging()}).every(function(s){return-1===i.indexOf(s)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(i){return this._direction=i,this}},{key:"connectedTo",value:function(i){return this._siblings=i.slice(),this}},{key:"withOrientation",value:function(i){return this._orientation=i,this}},{key:"withScrollableParents",value:function(i){var t=(0,y.fI)(this.element);return this._scrollableElements=-1===i.indexOf(t)?[t].concat((0,J.Z)(i)):i.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(i){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(function(n){return n.drag===i}):this._draggables.indexOf(i)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(i,t,n,o){if(!this.sortingDisabled&&this._clientRect&&_e(this._clientRect,.05,t,n)){var s=this._itemPositions,l=this._getItemIndexFromPointerPosition(i,t,n,o);if(!(-1===l&&s.length>0)){var u="horizontal"===this._orientation,c=s.findIndex(function(I){return I.drag===i}),d=s[l],h=d.clientRect,_=c>l?1:-1,S=this._getItemOffsetPx(s[c].clientRect,h,_),P=this._getSiblingOffsetPx(c,s,_),E=s.slice();Ee(s,c,l),this.sorted.next({previousIndex:c,currentIndex:l,container:this,item:i}),s.forEach(function(I,b){if(E[b]!==I){var M=I.drag===i,N=M?S:P,Ue=M?i.getPlaceholderElement():I.drag.getRootElement();I.offset+=N,u?(Ue.style.transform=Y("translate3d(".concat(Math.round(I.offset),"px, 0, 0)"),I.initialTransform),A(I.clientRect,0,N)):(Ue.style.transform=Y("translate3d(0, ".concat(Math.round(I.offset),"px, 0)"),I.initialTransform),A(I.clientRect,N,0))}}),this._previousSwap.overlaps=ee(h,t,n),this._previousSwap.drag=d.drag,this._previousSwap.delta=u?o.x:o.y}}}},{key:"_startScrollingIfNecessary",value:function(i,t){var n=this;if(!this.autoScrollDisabled){var o,s=0,l=0;if(this._parentPositions.positions.forEach(function(h,_){if(_!==n._document&&h.clientRect&&!o&&_e(h.clientRect,.05,i,t)){var S=function(a,r,i,t){var n=ke(r,t),o=Le(r,i),s=0,l=0;if(n){var u=a.scrollTop;1===n?u>0&&(s=1):a.scrollHeight-u>a.clientHeight&&(s=2)}if(o){var c=a.scrollLeft;1===o?c>0&&(l=1):a.scrollWidth-c>a.clientWidth&&(l=2)}return[s,l]}(_,h.clientRect,i,t),P=(0,rt.Z)(S,2);l=P[1],((s=P[0])||l)&&(o=_)}}),!s&&!l){var u=this._viewportRuler.getViewportSize(),c=u.width,d=u.height,p={width:c,height:d,top:0,right:c,bottom:d,left:0};s=ke(p,t),l=Le(p,i),o=window}o&&(s!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=l,this._scrollNode=o,(s||l)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var i=(0,y.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var i=(0,y.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}},{key:"_cacheItemPositions",value:function(){var i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:$(n)}}).sort(function(t,n){return i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var i=this;this._isDragging=!1;var t=(0,y.fI)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(n){var o=n.getRootElement();if(o){var s,l=null===(s=i._itemPositions.find(function(u){return u.drag===n}))||void 0===s?void 0:s.initialTransform;o.style.transform=l||""}}),this._siblings.forEach(function(n){return n._stopReceiving(i)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(i,t,n){var o="horizontal"===this._orientation,s=t[i].clientRect,l=t[i+-1*n],u=s[o?"width":"height"]*n;if(l){var c=o?"left":"top",d=o?"right":"bottom";-1===n?u-=l.clientRect[c]-s[d]:u+=s[c]-l.clientRect[d]}return u}},{key:"_getItemOffsetPx",value:function(i,t,n){var o="horizontal"===this._orientation,s=o?t.left-i.left:t.top-i.top;return-1===n&&(s+=o?t.width-i.width:t.height-i.height),s}},{key:"_shouldEnterAsFirstChild",value:function(i,t){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,o="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var l=n[n.length-1].clientRect;return o?i>=l.right:t>=l.bottom}var u=n[0].clientRect;return o?i<=u.left:t<=u.top}},{key:"_getItemIndexFromPointerPosition",value:function(i,t,n,o){var s=this,l="horizontal"===this._orientation,u=this._itemPositions.findIndex(function(c){var d=c.drag,p=c.clientRect;return d!==i&&((!o||d!==s._previousSwap.drag||!s._previousSwap.overlaps||(l?o.x:o.y)!==s._previousSwap.delta)&&(l?t>=Math.floor(p.left)&&t<Math.floor(p.right):n>=Math.floor(p.top)&&n<Math.floor(p.bottom)))});return-1!==u&&this.sortPredicate(u,i,this)?u:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(i,t){return null!=this._clientRect&&ee(this._clientRect,i,t)}},{key:"_getSiblingContainerFromPosition",value:function(i,t,n){return this._siblings.find(function(o){return o._canReceive(i,t,n)})}},{key:"_canReceive",value:function(i,t,n){if(!this._clientRect||!ee(this._clientRect,t,n)||!this.enterPredicate(i,this))return!1;var o=this._getShadowRoot().elementFromPoint(t,n);if(!o)return!1;var s=(0,y.fI)(this.element);return o===s||s.contains(o)}},{key:"_startReceiving",value:function(i,t){var n=this,o=this._activeSiblings;!o.has(i)&&t.every(function(s){return n.enterPredicate(s,n)||n._draggables.indexOf(s)>-1})&&(o.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var i=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(t){if(i.isDragging()){var n=i._parentPositions.handleScroll(t);n&&(i._itemPositions.forEach(function(o){A(o.clientRect,n.top,n.left)}),i._itemPositions.forEach(function(o){var s=o.drag;i._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else i.isReceiving()&&i._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var i=(0,L.kV)((0,y.fI)(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var i=this,t=this._activeDraggables.filter(function(n){return n.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(i,t)})}}]),a}();function ke(a,r){var i=a.top,t=a.bottom,o=.05*a.height;return r>=i-o&&r<=i+o?1:r>=t-o&&r<=t+o?2:0}function Le(a,r){var i=a.left,t=a.right,o=.05*a.width;return r>=i-o&&r<=i+o?1:r>=t-o&&r<=t+o?2:0}var G=(0,L.i$)({passive:!1,capture:!0}),dt=function(){var a=function(){function r(i,t){var n=this;(0,D.Z)(this,r),this._ngZone=i,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(o){return o.isDragging()},this.pointerMove=new g.Subject,this.pointerUp=new g.Subject,this.scroll=new g.Subject,this._preventDefaultWhileDragging=function(o){n._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=function(o){n._activeDragInstances.length>0&&(n._activeDragInstances.some(n._draggingPredicate)&&o.preventDefault(),n.pointerMove.next(o))},this._document=t}return(0,m.Z)(r,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var n=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){n._document.addEventListener("touchmove",n._persistentTouchmoveListener,G)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,G)}},{key:"startDragging",value:function(t,n){var o=this;if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){var s=n.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:function(u){return o.pointerUp.next(u)},options:!0}).set("scroll",{handler:function(u){return o.scroll.next(u)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:G}),s||this._globalListeners.set("mousemove",{handler:function(u){return o.pointerMove.next(u)},options:G}),this._ngZone.runOutsideAngular(function(){o._globalListeners.forEach(function(l,u){o._document.addEventListener(u,l.handler,l.options)})})}}},{key:"stopDragging",value:function(t){var n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(t){return this._activeDragInstances.indexOf(t)>-1}},{key:"scrolled",value:function(t){var n=this,o=[this.scroll];return t&&t!==this._document&&o.push(new g.Observable(function(s){return n._ngZone.runOutsideAngular(function(){var u=function(d){n._activeDragInstances.length&&s.next(d)};return t.addEventListener("scroll",u,!0),function(){t.removeEventListener("scroll",u,!0)}})})),g.merge.apply(void 0,o)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(n){return t.removeDragItem(n)}),this._dropInstances.forEach(function(n){return t.removeDropContainer(n)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(n,o){t._document.removeEventListener(o,n.handler,n.options)}),this._globalListeners.clear()}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.LFG(e.R0b),e.LFG(w.K0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),pt={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ie=function(){var a=function(){function r(i,t,n,o){(0,D.Z)(this,r),this._document=i,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=o}return(0,m.Z)(r,[{key:"createDrag",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;return new lt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new ut(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.LFG(w.K0),e.LFG(e.R0b),e.LFG(K.rL),e.LFG(dt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),ne=new e.OlP("CDK_DRAG_PARENT"),Oe=new e.OlP("CdkDropListGroup"),Re=new e.OlP("CDK_DRAG_CONFIG"),ht=0,Ae=new e.OlP("CdkDropList"),ft=function(){var a=function(){function r(i,t,n,o,s,l,u){var c=this;(0,D.Z)(this,r),this.element=i,this._changeDetectorRef=n,this._scrollDispatcher=o,this._dir=s,this._group=l,this._destroyed=new g.Subject,this.connectedTo=[],this.id="cdk-drop-list-".concat(ht++),this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=t.createDropList(i),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=function(d,p){return c.enterPredicate(d.data,p.data)},this._dropListRef.sortPredicate=function(d,p,h){return c.sortPredicate(d,p.data,h.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),l&&l._items.add(this)}return(0,m.Z)(r,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=(0,y.Ig)(t)}},{key:"addItem",value:function(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(t,n){return t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe((0,T.O4)(this._dir.value),(0,T.Rs)(this._destroyed)).subscribe(function(o){return t.withDirection(o)}),t.beforeStarted.subscribe(function(){var o=(0,y.Eq)(n.connectedTo).map(function(l){return"string"==typeof l?r._dropLists.find(function(c){return c.id===l}):l});if(n._group&&n._group._items.forEach(function(l){-1===o.indexOf(l)&&o.push(l)}),!n._scrollableParentsResolved){var s=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(l){return l.getElementRef().nativeElement});n._dropListRef.withScrollableParents(s),n._scrollableParentsResolved=!0}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=(0,y.Ig)(n.sortingDisabled),t.autoScrollDisabled=(0,y.Ig)(n.autoScrollDisabled),t.autoScrollStep=(0,y.su)(n.autoScrollStep,2),t.connectedTo(o.filter(function(l){return l&&l!==n}).map(function(l){return l._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(t){var n=this;t.beforeStarted.subscribe(function(){n._syncItemsWithRef(),n._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(o){n.entered.emit({container:n,item:o.item.data,currentIndex:o.currentIndex})}),t.exited.subscribe(function(o){n.exited.emit({container:n,item:o.item.data}),n._changeDetectorRef.markForCheck()}),t.sorted.subscribe(function(o){n.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:n,item:o.item.data})}),t.dropped.subscribe(function(o){n.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint}),n._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(t){var n=t.lockAxis,o=t.draggingDisabled,s=t.sortingDisabled,l=t.listAutoScrollDisabled,u=t.listOrientation;this.disabled=null!=o&&o,this.sortingDisabled=null!=s&&s,this.autoScrollDisabled=null!=l&&l,this.orientation=u||"vertical",n&&(this.lockAxis=n)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(t){return t._dragRef}))}}]),r}();return a._dropLists=[],a.\u0275fac=function(i){return new(i||a)(e.Y36(e.SBq),e.Y36(ie),e.Y36(e.sBO),e.Y36(K.mF),e.Y36(he.Is,8),e.Y36(Oe,12),e.Y36(Re,8))},a.\u0275dir=e.lG2({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,t){2&i&&(e.uIk("id",t.id),e.ekj("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:Oe,useValue:void 0},{provide:Ae,useExisting:a}])]}),a}(),re=new e.OlP("CdkDragHandle"),gt=function(){var a=function(){function r(i,t){(0,D.Z)(this,r),this.element=i,this._stateChanges=new g.Subject,this._disabled=!1,this._parentDrag=t}return(0,m.Z)(r,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=(0,y.Ig)(t),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(e.SBq),e.Y36(ne,12))},a.\u0275dir=e.lG2({type:a,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:re,useExisting:a}])]}),a}(),_t=new e.OlP("CdkDragPlaceholder"),vt=new e.OlP("CdkDragPreview"),Dt=function(){var a=function(){function r(i,t,n,o,s,l,u,c,d,p,h){var _=this;(0,D.Z)(this,r),this.element=i,this.dropContainer=t,this._ngZone=o,this._viewContainerRef=s,this._dir=u,this._changeDetectorRef=d,this._selfHandle=p,this._parentDrag=h,this._destroyed=new g.Subject,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new g.Observable(function(S){var P=_._dragRef.moved.pipe((0,T.UI)(function(E){return{source:_,pointerPosition:E.pointerPosition,event:E.event,delta:E.delta,distance:E.distance}})).subscribe(S);return function(){P.unsubscribe()}}),this._dragRef=c.createDrag(i,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:null==l?void 0:l.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),l&&this._assignDefaults(l),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return(0,m.Z)(r,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=(0,y.Ig)(t),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe((0,T.qn)(1),(0,T.Rs)(t._destroyed)).subscribe(function(){t._updateRootElement(),t._setupHandlesListener(),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)})})}},{key:"ngOnChanges",value:function(t){var n=t.rootElementSelector,o=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){var t=this;this.dropContainer&&this.dropContainer.removeItem(this);var n=r._dragInstances.indexOf(this);n>-1&&r._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(function(){t._destroyed.next(),t._destroyed.complete(),t._dragRef.dispose()})}},{key:"_updateRootElement",value:function(){var o,t=this.element.nativeElement,n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):null===(o=t.parentElement)||void 0===o?void 0:o.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,y.fI)(t):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var o=n._dir,s=n.dragStartDelay,l=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,u=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:(0,y.su)(s),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(u).withPreviewContainer(n.previewContainer||"global"),o&&t.withDirection(o.value)}}),t.beforeStarted.pipe((0,T.qn)(1)).subscribe(function(){if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var o=n.element.nativeElement.parentElement;o;){if(o.classList.contains("cdk-drag")){var s;t.withParent((null===(s=r._dragInstances.find(function(l){return l.element.nativeElement===o}))||void 0===s?void 0:s._dragRef)||null);break}o=o.parentElement}})}},{key:"_handleEvents",value:function(t){var n=this;t.started.subscribe(function(){n.started.emit({source:n}),n._changeDetectorRef.markForCheck()}),t.released.subscribe(function(){n.released.emit({source:n})}),t.ended.subscribe(function(o){n.ended.emit({source:n,distance:o.distance,dropPoint:o.dropPoint}),n._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(o){n.entered.emit({container:o.container.data,item:n,currentIndex:o.currentIndex})}),t.exited.subscribe(function(o){n.exited.emit({container:o.container.data,item:n})}),t.dropped.subscribe(function(o){n.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:n,distance:o.distance,dropPoint:o.dropPoint})})}},{key:"_assignDefaults",value:function(t){var n=t.lockAxis,o=t.dragStartDelay,s=t.constrainPosition,l=t.previewClass,u=t.boundaryElement,c=t.draggingDisabled,d=t.rootElementSelector,p=t.previewContainer;this.disabled=null!=c&&c,this.dragStartDelay=o||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),l&&(this.previewClass=l),u&&(this.boundaryElement=u),d&&(this.rootElementSelector=d),p&&(this.previewContainer=p)}},{key:"_setupHandlesListener",value:function(){var t=this;this._handles.changes.pipe((0,T.O4)(this._handles),(0,T.bw)(function(n){var o=n.filter(function(s){return s._parentDrag===t}).map(function(s){return s.element});t._selfHandle&&t.rootElementSelector&&o.push(t.element),t._dragRef.withHandles(o)}),(0,T.wt)(function(n){return g.merge.apply(void 0,(0,J.Z)(n.map(function(o){return o._stateChanges.pipe((0,T.O4)(o))})))}),(0,T.Rs)(this._destroyed)).subscribe(function(n){var o=t._dragRef,s=n.element.nativeElement;n.disabled?o.disableHandle(s):o.enableHandle(s)})}}]),r}();return a._dragInstances=[],a.\u0275fac=function(i){return new(i||a)(e.Y36(e.SBq),e.Y36(Ae,12),e.Y36(w.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Re,8),e.Y36(he.Is,8),e.Y36(ie),e.Y36(e.sBO),e.Y36(re,10),e.Y36(ne,12))},a.\u0275dir=e.lG2({type:a,selectors:[["","cdkDrag",""]],contentQueries:function(i,t,n){var o;1&i&&(e.Suo(n,vt,5),e.Suo(n,_t,5),e.Suo(n,re,5)),2&i&&(e.iGM(o=e.CRH())&&(t._previewTemplate=o.first),e.iGM(o=e.CRH())&&(t._placeholderTemplate=o.first),e.iGM(o=e.CRH())&&(t._handles=o))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,t){2&i&&e.ekj("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:ne,useExisting:a}]),e.TTD]}),a}(),yt=function(){var a=(0,m.Z)(function r(){(0,D.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[ie],imports:[K.ZD]}),a}(),oe=f(42663),Pt=f(6731),bt=f(87444),St=f(85694);function It(a,r){1&a&&(e.TgZ(0,"mat-list-item"),e._uU(1,"\n        "),e.TgZ(2,"mat-icon",3),e._uU(3,"cloud"),e.qZA(),e._uU(4,"\n        "),e.TgZ(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._uU(8,"\n        "),e.TgZ(9,"div",5),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._uU(12,"\n    "),e.qZA()),2&a&&(e.xp6(6),e.Oqu(e.lcZ(7,2,"HOME.PLAYLISTS.NO_PLAYLISTS")),e.xp6(4),e.hij("\n            ",e.lcZ(11,4,"HOME.PLAYLISTS.ADD_FIRST"),"\n        "))}function Ct(a,r){if(1&a&&(e.TgZ(0,"mat-icon",11),e.ALo(1,"translate"),e._uU(2,"cloud"),e.qZA()),2&a){var i=e.oxw().$implicit;e.Q6J("matTooltip",e.lcZ(1,1,"HOME.PLAYLISTS.ADDED_VIA_URL")+" "+(null==i?null:i.url))}}function Tt(a,r){1&a&&(e.TgZ(0,"mat-icon",11),e.ALo(1,"translate"),e._uU(2,"folder"),e.qZA()),2&a&&e.Q6J("matTooltip",e.lcZ(1,1,"HOME.PLAYLISTS.ADDED_VIA_FILE"))}function Et(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"date"),e.BQk()),2&a){var i=e.oxw().$implicit;e.xp6(1),e.AsE("\n                | ",e.lcZ(2,2,"HOME.PLAYLISTS.ADDED"),":\n                ",e.lcZ(3,4,i.importDate),"\n            ")}}function xt(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"date"),e.BQk()),2&a){var i=e.oxw().$implicit;e.xp6(1),e.AsE("\n                | ",e.lcZ(2,2,"HOME.PLAYLISTS.UPDATED"),":\n                ",e.xi3(3,4,i.updateDate,"MMMM d, yyyy, HH:mm"),"\n            ")}}function wt(a,r){1&a&&(e.ynx(0),e._uU(1,"\n                "),e.TgZ(2,"mat-icon",12),e.ALo(3,"translate"),e._uU(4,"warning"),e.qZA(),e._uU(5,"\n            "),e.BQk()),2&a&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,2,"HOME.PLAYLISTS.INFO_DIALOG.UPDATE_FAILED"))("inline",!0))}function kt(a,r){if(1&a){var i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(n){e.CHM(i);var o=e.oxw().$implicit,s=e.oxw();return n.stopPropagation(),s.refreshClicked.emit(o)}),e.ALo(1,"translate"),e._uU(2,"\n            "),e.TgZ(3,"mat-icon"),e._uU(4,"sync"),e.qZA(),e._uU(5,"\n        "),e.qZA()}2&a&&e.Q6J("matTooltip",e.lcZ(1,1,"HOME.PLAYLISTS.REFRESH"))}function Lt(a,r){1&a&&e._UZ(0,"mat-divider")}function Ot(a,r){if(1&a){var i=e.EpF();e.TgZ(0,"mat-list-item",6),e.NdJ("click",function(){var l=e.CHM(i).$implicit;return e.oxw().playlistClicked.emit(l._id)}),e._uU(1,"\n        "),e.TgZ(2,"mat-icon",7),e._uU(3,"drag_indicator"),e.qZA(),e._uU(4,"\n        "),e.YNc(5,Ct,3,3,"mat-icon",8),e._uU(6,"\n        "),e.YNc(7,Tt,3,3,"mat-icon",8),e._uU(8,"\n        "),e.TgZ(9,"div",4),e._uU(10),e.qZA(),e._uU(11,"\n        "),e.TgZ(12,"div",5),e._uU(13),e.ALo(14,"translate"),e.YNc(15,Et,4,6,"ng-container",1),e._uU(16,"\n            "),e.YNc(17,xt,4,7,"ng-container",1),e._uU(18,"\n            "),e.YNc(19,wt,6,4,"ng-container",1),e._uU(20,"\n        "),e.qZA(),e._uU(21,"\n        "),e.YNc(22,kt,6,3,"button",9),e._uU(23,"\n        "),e.TgZ(24,"button",10),e.NdJ("click",function(s){var u=e.CHM(i).$implicit,c=e.oxw();return s.stopPropagation(),c.openInfoDialog(u)}),e.ALo(25,"translate"),e._uU(26,"\n            "),e.TgZ(27,"mat-icon"),e._uU(28,"edit"),e.qZA(),e._uU(29,"\n        "),e.qZA(),e._uU(30,"\n        "),e.TgZ(31,"button",10),e.NdJ("click",function(s){var u=e.CHM(i).$implicit,c=e.oxw();return s.stopPropagation(),c.removeClicked.emit(u._id)}),e.ALo(32,"translate"),e._uU(33,"\n            "),e.TgZ(34,"mat-icon"),e._uU(35,"delete"),e.qZA(),e._uU(36,"\n        "),e.qZA(),e._uU(37,"\n        "),e.YNc(38,Lt,1,0,"mat-divider",1),e._uU(39,"\n    "),e.qZA()}if(2&a){var t=r.$implicit,n=r.last;e.xp6(5),e.Q6J("ngIf",null==t?null:t.url),e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.url)),e.xp6(3),e.Oqu(t.title||t.filename),e.xp6(3),e.AsE("\n            ",e.lcZ(14,12,"HOME.PLAYLISTS.CHANNELS"),": ",t.count,"\n            "),e.xp6(2),e.Q6J("ngIf",(null==t.importDate?null:t.importDate.length)>3),e.xp6(2),e.Q6J("ngIf",t.updateDate),e.xp6(2),e.Q6J("ngIf",2===t.updateState),e.xp6(3),e.Q6J("ngIf",t.url||t.filePath),e.xp6(2),e.Q6J("matTooltip",e.lcZ(25,14,"HOME.PLAYLISTS.SHOW_DETAILS")),e.xp6(7),e.Q6J("matTooltip",e.lcZ(32,16,"HOME.PLAYLISTS.REMOVE")),e.xp6(7),e.Q6J("ngIf",!n)}}var Rt=function(){var a=function(){function r(i,t){(0,D.Z)(this,r),this.dialog=i,this.electronService=t,this.playlistClicked=new e.vpe,this.refreshClicked=new e.vpe,this.removeClicked=new e.vpe}return(0,m.Z)(r,[{key:"openInfoDialog",value:function(t){this.dialog.open(nt,{data:t})}},{key:"drop",value:function(t){Ee(this.playlists,t.previousIndex,t.currentIndex),this.electronService.sendIpcEvent(C.jy,this.playlists)}}]),r}();return a.\u0275fac=function(i){return new(i||a)(e.Y36(x.uw),e.Y36(B.D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-recent-playlists"]],inputs:{playlists:"playlists"},outputs:{playlistClicked:"playlistClicked",refreshClicked:"refreshClicked",removeClicked:"removeClicked"},decls:7,vars:2,consts:[["cdkDropList","",3,"cdkDropListDropped"],[4,"ngIf"],["cdkDrag","",3,"click",4,"ngFor","ngForOf"],["mat-list-icon",""],["mat-line",""],["mat-line","",1,"meta"],["cdkDrag","",3,"click"],["mat-list-icon","","cdkDragHandle","",1,"drag-icon"],["mat-list-icon","",3,"matTooltip",4,"ngIf"],["mat-icon-button","","color","accent",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","color","accent",3,"matTooltip","click"],["mat-list-icon","",3,"matTooltip"],[3,"matTooltip","inline"]],template:function(i,t){1&i&&(e.TgZ(0,"mat-nav-list",0),e.NdJ("cdkDropListDropped",function(o){return t.drop(o)}),e._uU(1,"\n    "),e.YNc(2,It,13,6,"mat-list-item",1),e._uU(3,"\n    "),e.YNc(4,Ot,40,18,"mat-list-item",2),e._uU(5,"\n"),e.qZA(),e._uU(6,"\n")),2&i&&(e.xp6(2),e.Q6J("ngIf",0===t.playlists.length),e.xp6(2),e.Q6J("ngForOf",t.playlists))},directives:[oe.Hk,ft,w.O5,w.sg,oe.Tg,Q.Hw,oe.Nh,Pt.X2,Dt,gt,F.lW,bt.gM,St.d],pipes:[O.X$,w.uU],styles:["mat-list-item[_ngcontent-%COMP%]{cursor:pointer}.mat-list-base[_ngcontent-%COMP%]{padding-top:0!important}mat-nav-list[_ngcontent-%COMP%]{height:calc(100vh - 192px);overflow:auto;width:100%}.meta[_ngcontent-%COMP%]{font-size:12px!important;color:#666;margin-top:2px!important}  .cdk-drag-preview .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit;width:100%;justify-content:space-between}  .cdk-drag-preview .mat-list-item-content .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding-left:16px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-icon[_ngcontent-%COMP%]{cursor:move;margin-left:-20px}"]}),a}(),At=[{path:"",component:ue}],Ut=function(){var a=(0,m.Z)(function r(){(0,D.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[j.Bz.forChild(At)],j.Bz]}),a}(),Zt=f(69944),ae=f(55243),z=f(12605),Mt=f(89009),Nt=function(){var a=(0,m.Z)(function r(){(0,D.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[w.ez,Ut,Ve,Ze.m,yt]]}),a}();e.B6R(ue,[Zt.G,ae.xw,ae.XD,ae.yH,z.SP,z.uX,z.uD,Q.Hw,Rt,z.Vc,Qe,Ke,w.O5,Mt.pW],[O.X$])}}]);